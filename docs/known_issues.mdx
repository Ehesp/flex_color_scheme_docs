# Known Issues

All currently known issues **impacting FlexColorScheme** are rooted in **Flutter SDK framework issues** and typically cannot be fixed in the package. The known issues are being tracked, and status changes are occasionally reviewed and updated below, especially when there is a new Flutter stable version release. Some below-listed Flutter SDK theming issues have workarounds included in FlexColorScheme. Such workaround cases are also mentioned in the issues below. 

**Found an issue?**

Did you find a new issue? Is it a **FlexColorScheme** issue? Please open it as a new issue in the project [GitHub repo](https://github.com/rydmike/flex_color_scheme/issues). If you have a **question about FlexColorScheme** and its usage, you can post it as a question in the repo [discussions](https://github.com/rydmike/flex_color_scheme/discussions). If it is a theming issue caused by the Flutter SDK framework, please report it directly in [Flutter issues](https://github.com/flutter/flutter/issues/new/choose).


## Flutter Theming Issues

Summary of reported Flutter theming issues, that impact or have impacted theming in Flutter, as well as features in **FlexColorScheme** and **Themes Playground**.

| Status          | Amount    |
|-----------------|-----------|
| No fix          | 21 issues |
| Fixed in master | 9 issues  |
| Fixed in stable | 20 issues |

_Last status review July 24, 2023_

## No Fix

The issues below have not been fixed yet, or if they have a fix, they have not yet been merged into the Flutter master channel.


### IconButton theming destroys variant styles
<Error>Applies to Flutter stable 3.10.</Error>

If we add theming to IconButton's IconButtonThemeData, we lose the style of all the variant IconButtons `IconButton.filled`, `IconButton.filledTonal` and `IconButton.outlined`. They all get the same style as IconButton. For more information, see issue [#123829](https://github.com/flutter/flutter/issues/123829).


### DropdownMenu themed focused item broken
<Error>Applies to Flutter 3.7 and 3.10.</Error>

The style indication of the found and focused/selected item in a `DropdownMenu` does not use `MenuButtonThemeData`. Its simulation of the focused state omits the theme. This makes it impossible to provide a consistent style for the focused/selected item when using a custom theme in a `DropdownMenu`. We have to use the default style for the entire menu, or accept a deviant and out-of-style looking focused/selected item. For more information, see issue [#123736](https://github.com/flutter/flutter/issues/123736).


### NavigationDrawer wrong default width in M3
<Error>Applies to Flutter 3.7 and 3.10.</Error>
<Info>Has a theme **fix** in FlexColorScheme, so this is not an issue when using FlexColorScheme. However, using the M3 spec width is problematic in many cases.</Info>

The `NavigationDrawer` drawer width does not follow Material-3 specification. Reference: Material-3 Design Navigation Drawer [specification](https://m3.material.io/components/navigation-drawer/specs#ce8bfbcf-3dec-45d2-9d8b-5e10af1cf87d). It might, however, not be such a good design to use the M3 360 dp spec as width. For more information, see issue [#123380](https://github.com/flutter/flutter/issues/123380).  It remains unknown what the response and view from the Google Material design team on the matter is. 


### NavigationDrawer indicator is centered when sized
<Error>Applies to Flutter 3.7 and 3.10.</Error>

See umbrella issue [#123507](https://github.com/flutter/flutter/issues/123507) for more information.


### NavigationDrawer ink size does not follow indicator size
<Error>Applies to Flutter 3.7 and 3.10.</Error>

See umbrella issue [#123507](https://github.com/flutter/flutter/issues/123507) for more information.

### NavigationDrawer ink effects do not follow M3 spec
<Error>Applies to Flutter 3.7 and 3.10.</Error>

See umbrella issue [#123507](https://github.com/flutter/flutter/issues/123507) for more information.


### NavigationDrawer ink effect colors cannot be changed
<Error>Applies to Flutter 3.7 and 3.10.</Error>

See umbrella issue [#123507](https://github.com/flutter/flutter/issues/123507) for more information.


### NavigationDrawer drawer size change animation overflows
<Error>Applies to Flutter 3.7 and 3.10.</Error>

See umbrella issue [#123507](https://github.com/flutter/flutter/issues/123507) for more information.


### NavigationDrawer Label is not truncated to fit
<Error>Applies to Flutter 3.7 and 3.10.</Error>

See umbrella issue [#123507](https://github.com/flutter/flutter/issues/123507) for more information.


### SegmentedButton height does not match Material3 spec and cannot be changed
<Error>Applies to Flutter 3.7 and 3.10.</Error>

The Material-3 specification gives a height of 40 dp for Segmented buttons and a recommended `TapTargetSize` of 48 dp. This cannot be achieved in Flutter since the `minimumSize` style-property does not affect the widget. The correct minimumSize was actually set as default value in [PR #120095](https://github.com/flutter/flutter/pull/120095), but is not honored, see issue [#121493](https://github.com/flutter/flutter/issues/121493).


### SegmentedButton OverlayColor MaterialState incorrectly set
<Error>Applies to Flutter 3.7 and 3.10.</Error>

The SegmentedButton sets its `MaterialState` incorrectly for `overlayColor` in its used `ButtonStyleButton` segments. See issue [123308](https://github.com/flutter/flutter/issues/123308).


### FilledButton theming limitation issue
<Error>Applies to Flutter 3.7 and 3.10.</Error>

Cannot theme `FilledButton` and `FilledButton.tonal` variants separately, see issue [#118063](https://github.com/flutter/flutter/issues/118063).

The new Material-3 buttons `FilledButton` and `FilledButton.tonal` cannot be themed separately to use different styles from each other. This is in conflict with their default themes where these buttons can use different styles and do look different. However, if you use `FilledButtonThemeData` in `ThemeData` to try to color style the buttons, both variants will become identical since they share the same `FilledButtonThemeData`. This effectively renders theming of the `FilledButton` less usable, since e.g., theming its color properties makes the variants look identical.


### Divider color inconsistencies
<Error>Applies to Flutter 3.10, 3.7 and earlier.</Error>
<Info>Has a theme **fix** in FlexColorScheme, so this is not an issue when using FlexColorScheme.</Info>

The introduction of M3 and some newer theme factories/properties have led to inconsistent divider colors that may cause theme color behavior confusion for developers. Some results are also not according to the M2 or M3 specification.

The issue is seen as where `Theme.of(context).dividerColor` will have one color, but `Divider` widget will actually use another color. Which color they get, and what color is actually used where, depends on the used theme creation factory and M2/M3 mode. For more information, please see issue [117755](https://github.com/flutter/flutter/issues/117755). 

FlexColorScheme includes theming for the divider, to ensure consistent color on all divider theme related colors. There is also an optional quick setting to enable using opacity-based M2 divider style in Material-3 mode. The M2-styled divider is less prominent than using intended M3 `ColorScheme.outlineVariant` and may work better on backgrounds that do not have primary color-tinted backgrounds. The default M3 divider has no opacity and is color tinted by the theme's primary color. This may not be visually ideal on backgrounds that are not plain white/black or use primary color-tinted surfaces. With default M3 ColorSchemes this is not a big problem, but even with it, the default `Divider` color may not work so well on tertiary and its container color in a pure M3 design. 


### Chips umbrella issue
<Error>Applies to Flutter 3.10 and earlier.</Error>

The `Chip` does not conform to Material3 design spec when `useMaterial3` is enabled. See umbrella issue [#115364](https://github.com/flutter/flutter/issues/115364) for details. Many of the theme related issues listed in the Chips umbrella issue have been fixed in the master channel.


### Chips, passed in iconTheme is not applied
<Error>Applies to Flutter 3.7 and 3.10.</Error>

When passing in `iconTheme` to `Chip`, `ActionChip`, `ChoiceChip`, `FilterChip` or `InputChip`, it is not applied.
See issue [#111828](https://github.com/flutter/flutter/issues/111828).


### Chips theming limitation issues
<Error>Applies to Flutter 3.10 and earlier.</Error>
<Info>In master [PR #128584](https://github.com/flutter/flutter/pull/128584) closed the reported issue for this. However, it probably does not solve the issue of not being able to theme variant chips independently of each other. Probably need to report the issue again with a new and clearer report of the issue, since the previous report contained two issues.</Info>

Cannot make themed **Selected** and **disabled** `ChoiceChip`, `FilterChip` and `InputChip` follow M3 spec by using theming, see issue [#115827](https://github.com/flutter/flutter/issues/115827).

The current messy Chips theming situation and limitations was caused by the fact that `Chips` M3 implementation should probably not have re-used their old M2 base. It had too many limitations and lacked support for many features required by M3 Chips. In defense of the made choice, when it was decided to re-use their M2 base, the M3 Chip specification did not have all their individual states and interactions included in the M3 guide and specification, that now exist in it. 

Chips based on `ButtonStyleButton` and own theme for each M3 variant Chip, could solve all the issues and allow for flexible styling of the Chips. Currently, the Chips also have some hard coded features that can only be replicated by null theme default behavior via defaults the different M3 Chip variants. As long as you use only the defaults, you are mostly fine, apart from state interactions, but as soon as you try to theme them, you run into limitations and cross over effects between the different M3 Chip variants.


### FloatingActionButton theming limitation issue
<Error>Applies to Flutter 3.10 and earlier.</Error>

Cannot theme shape and iconSize differently for different sized FloatingActionButton, see issue [#107946](https://github.com/flutter/flutter/issues/107946). This issue does not yet (Nov 18, 2022) have any known corrective actions in the master channel.


### SnackBar theming limitation issue
<Error>Applies to Flutter 3.10 and earlier.</Error>

Cannot theme SnackBar shape independently for its different behaviors, see issue [#108539](https://github.com/flutter/flutter/issues/108539). This issue does not yet (Nov 18, 2022) have any known corrective actions in the master channel.


### PrimaryTextTheme has Wrong contrast color in ThemeData dark mode
<Error>Applies to Flutter 3.10 and earlier.</Error>
<Info>This has a theme **fix** in FlexColorScheme, so this is not an issue when using FlexColorScheme.</Info>

When the primary color of the theme requires dark contrast color, the `primaryTextTheme` gets the wrong contrast color in dark mode. See issue [#118146](https://github.com/flutter/flutter/issues/118146) for more information. FlexColorScheme has always included a theme fix for this issue. It is thus a none issue in FCS. The issue is included here as information and for tracking purposes.


### Slider and RangeSlider issues
<Error>Applies to Flutter 3.10 and earlier.</Error>

The `Slider` and `RangeSlider` components have a large number of known issues. They are typically not related to theming. Only a few are, like e.g. `RangeSlider` not having M3 style value indicator. For more information, see umbrella issue [#125329](https://github.com/flutter/flutter/issues/125329).


### Elevation overlay color limitation in Material-2 dark mode
<Warning>Applies to Flutter 3.10 and earlier.</Warning>

The overlay color or color branding is not applied in Material2 (M2) to Widgets using elevated `Material` of type `canvas` in Flutter when using primary-colored surface and backgrounds, and the theme's `applyElevationOverlayColor` is `true`. This is caused by this Flutter SDK limitation and [issue #90353](https://github.com/flutter/flutter/issues/90353) "Dark mode elevation overlay color is only applied to Material of type canvas, when surface and background colors are equal".

FCS version 4.0.0 and later addresses this limitation by introducing more color blend modes that keep the surface and background colors equal, in order to not be affected by this limitation. If you are using heavy color branding in dark theme mode, the overlay color may not be necessary.

This limitation in Material-2 will likely **never be fixed in Flutter**. It is documented here as something to be aware of. The work-around introduced in FCS is sufficient in most cases. The elevation tint in Material-3 does not have this equivalent limitation and thus removes the limitation when going forward with Material-3 theming.


## Fixed in Master

The issues below have a fix that has been **merged** in the latest Flutter master channel. Some fixes may also be in the latest beta channel, but have not yet landed in any stable version of Flutter. If the mentioned fix is available in the latest beta, it will typically also land in next stable version of Flutter when a new stable version is release. Typically, don't expect to see fixes below arriving as hotfixes to the main stable channel. 

### TimePicker clock-dial has wrong M3 defaults
<Error>Applies to Flutter 3.7 and 3.10.</Error>
<Success>Has fix [PR #131045](https://github.com/flutter/flutter/pull/131045) in master, but not yet in stable 3.10.</Success>
<Info>Has a theme default **fix** in FlexColorScheme, this is not an issue when using FlexColorScheme.</Info>

The `TimePicker` clock-dial uses wrong spec color, and its M3 web spec has a mistake. See issue [#118657](https://github.com/flutter/flutter/issues/118657).

### NavigationDrawer selected item has wrong icon color
<Error>Applies to Flutter stable 3.10.</Error>
<Success>Has fix [PR #129625](https://github.com/flutter/flutter/pull/129625) in master, but not yet in stable 3.10.
 Fix is also in beta and will land in next stable.</Success>

The default color of the icon on a selected item in `NavigationDrawer` does not follow Material3 spec.
Based on [published spec](https://m3.material.io/components/navigation-drawer/specs) the color should 
in Flutter be `ColorScheme.onSecondaryContainer`. For more information, see issue [#129572](https://github.com/flutter/flutter/issues/129572).


### SearchBar InputDecorator issue
<Error>Applies to Flutter stable 3.10.</Error>
<Success>Has fix [PR #127465](https://github.com/flutter/flutter/pull/127465) in master, but not yet in stable 3.10.
Fix is also in beta and will land in next stable.</Success>

SearchAnchor.bar picks up app InputDecorator theme, and it cannot be removed.
For more information, see issue [#126623](https://github.com/flutter/flutter/issues/126623).


### DatePicker InputDecorator issue
<Error>Applies to Flutter stable 3.10.</Error>
<Success>Has fix [PR #127465](https://github.com/flutter/flutter/pull/127465) in master, but not yet in stable 3.10. 
Not yet in beta, may not land in the next stable, remains to be seen.</Success>

DatePicker date entry InputDecorator cannot have own theme.
For more information, see issue [#128950](https://github.com/flutter/flutter/pull/128950).


### DatePicker divider issue
<Error>Applies to Flutter stable 3.10.</Error>
<Success>Has fix [PR #127197](https://github.com/flutter/flutter/pull/127197) in master, but not yet in stable 3.10.
Fix is also in beta and will land in next stable.</Success>

DatePicker Divider cannot be removed or styled, it does not fit with a custom header background.
For more information, see issue [#126597](https://github.com/flutter/flutter/issues/126597).


### Chips state elevation issues in M3
<Error>Applies to Flutter 3.7 and 3.10.</Error>
<Success>Has fix [PR #128049](https://github.com/flutter/flutter/pull/128049) in master, but not yet in stable 3.10.
The fix is also in the beta channel and will land in the next stable version. Unverified if the fix is 100% correct based on M3 Web spec and all the Chip variants elevations, but it is definitely better.</Success>

Some `Chip` variants in M3 should have state elevations when interacted with, they do not. See issue [#115825](https://github.com/flutter/flutter/issues/115825). 


### Chips missing pressed/splash effects on actionable Chips in M3
<Error>Applies to Flutter stable 3.7 and 3.10.</Error>
<Success>Has fix [PR #124673](https://github.com/flutter/flutter/pull/124673) in master, but not yet in stable 3.10.
Fix is also in beta and will land in next stable.</Success>

No Ink Splash on actionable `Chips` when using color on them. See issue [#115824](https://github.com/flutter/flutter/issues/115824). The ink effects get covered by color on the used `Material` the button is constructed off. 


### Chips background cannot be state adaptive
<Error>Applies to Flutter 3.7 and 3.10.</Error>
<Success>Has fix [PR #128584](https://github.com/flutter/flutter/pull/128584) in master, but not yet in stable 3.10.
The fix is also in the beta channel and will land in the next stable version. 
It is uncertain if the fix can be used with themes for each Chip variant, it will work on Chip property level though.</Success>

When creating a Chip, cannot set different background color for each different material state.


### SliverAppBar.medium and SliverAppBar.large Theming and Default Values Issue
<Error>Applies to stable Flutter 3.7 and 3.10.</Error>
<Success>Has a **fix** [PR #123293](https://github.com/flutter/flutter/pull/122542) in master, not yet landed in stable 3.7 or 3.10.
Fix is also in beta and will land in next stable.</Success>

The `AppBar`'s foreground theme color, from theme or widget foreground color properties are **not applied** to action icon color for `SliverAppBar.medium` and `SliverAppBar.large`. The defaults for M2 foreground color on a `SliverAppBar.medium` and `SliverAppBar.large` are **incorrect** in **light theme** mode when using **Material-2**. For more information, see issue [#123943](https://github.com/flutter/flutter/issues/123943).


## Fixed in Stable

The issues below have a fix that has **landed in the latest stable hotfix or earlier** version of Flutter.
This list is included to show what older versions of Flutter the theming fixes do not apply to.
Prefer using the latest stable version of Flutter to benefit from all fixes listed below.

### MenuButton text animates on hover/focus/press state
<Success>Not an issue, can be theme solved.</Success>

This issue is actually not a Flutter issue. Turns out the text animation of `MenuButton` items when using inverse text color on selected item, compared to unselected items, **can** be removed with a `ButtonStyle` property on `MenuButtonThemeData`. FlexColorScheme version 7.2 added this setting to FIX this issue. In FCS 7.1 and earlier, the issue still exists.

**Original issue text:** A menu selection label is not supposed to animate when it is highlighted, nor does it do so on icons in the menu, only on the text. For more information, see issue [#23615](https://github.com/flutter/flutter/issues/123615).

### DropdownMenu's menu overlay size issue
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7.</Error>

If a `DropdownMenu` is placed in a `ListView`, the menu overlay expands to the width of the layout. This is a minor issue. You can work around it by placing the `DropdownMenu` e.g. in a `Column` in the `ListView`. Interestingly, when opening a menu overlay from a `MenuBar` or the `MenuAnchor`, even when they are placed in a `ListView`, they do not exhibit this behavior. Neither does `DropdownMenu`, if it is in a `Column`. For more information, see issue [#123631](https://github.com/flutter/flutter/issues/123631).


### InputChip, a disabled selected InputChip has wrong color in M3
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7.</Error>

Wrong selected plus disabled `InputChip` color used in M3, see issue [#115826](https://github.com/flutter/flutter/issues/115826).
A fix exists in master, but based on an initial view of the fix, the fix may still suffer from unexpected results when theming Chips. It will need to be further investigated, and a new issue opened if that is the case. Has a **fix** [PR #120192](https://github.com/flutter/flutter/pull/120192) in master, is now in 3.10 stable.


### SegmentedButton segments background cannot be made transparent
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7.</Error>

The Material-3 specification depicts `SegmentedButton` unselected button segments, as having transparent color, used to show background color of surface it is placed upon. This is needed for it to work well on elevation-tinted surfaces in Material-3 design. See issue [#123292](https://github.com/flutter/flutter/issues/123292), it has a merged fix in beta 3.10 and master via [PR #123293](https://github.com/flutter/flutter/pull/123293).


### SegmentedButton has wrong M3 defaults
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7.</Error>
<Info>Has a theme default **fix** in FlexColorScheme v7, so this is not an issue when using FlexColorScheme.</Info>

The `SegmentedButton` uses wrong default color for unselected item color, it uses `primary` color, it should be `onSurface`. See issue [# 119733](https://github.com/flutter/flutter/issues/119733) for more information. FCS7 includes a theme fix for this working already in Flutter 3.7. Has a **fix** [PR #120095](https://github.com/flutter/flutter/pull/120095) in beta 3.10 and master, not yet landed in stable, is in 3.10


### NavigationDrawer indicator overlay does not use shape
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7.</Error>

If the `NavigationDrawer` shape is modified via `indicatorShape` by widget or theme, from its default M3 `StadiumBorder` shape, the indicator correctly gets the new shape, but `InkWell` used by overlay color for focus, hover and pressed state do not use the specified shape. For more information, see issue [#123324](https://github.com/flutter/flutter/issues/123324), it has a merged fix in master via [PR #123325](https://github.com/flutter/flutter/pull/123325).


### TabBar bottom divider, in M3, does not use its theme property color value
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to stable Flutter 3.7.</Error>

The `dividerColor` in the `TabBarThemeData` was never applied to the used divider on the bottom of the `TabBar` that is part of the [M3 spec](https://m3.material.io/components/tabs/specs). It was used when passed via widget `dividerColor`, but ignored when set via `TabBarThemeData`. There is no report submitted for this issue. The fix was added in master without any reported issue, or at least there is no linked issue. Has a **fix** [PR #119690](https://github.com/flutter/flutter/pull/119690) in beta 3.10 and master, is now in stable 3.10.


### UnderlineInputBorder missing equality property
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7 and earlier.</Error>

ShapeBorder on input decorator `UnderlineInputBorder` has gaps in its equality operator and hashCode in Flutter SDK, it is missing the borderRadius property. See [issue #118282](https://github.com/flutter/flutter/issues/118282).

This can be seen in the **Themes Playground** app where changing the controller value borderRadius on the used `UnderlineInputBorder` property does not trigger a rebuild of the Theme via Listenable in the AnimatedBuilder, since the value change is not observed because the property is not included in the object equality. Equality remains true, even though one of its property values has changed. Has a **fix** [PR #118284](https://github.com/flutter/flutter/pull/118284) in master, is now in 3.10 stable.


### BottomAppBar background color cannot be changed in M3
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to stable Flutter 3.7.</Error>

The background color of the `BottomAppBar` cannot be changed when enabling Material-3 in Flutter. This applies to using its color property, theme, and any other means of trying to change its background color. This is bug in Flutter 3.7. There is a fix [PR #117082](https://github.com/flutter/flutter/pull/117082) in the master channel. It is from December 16, 2022, but it did not get included in the Flutter 3.7 Jan 25, 2023 release. The issue is also reported in the FlexColorScheme repo here [FCS #115](https://github.com/rydmike/flex_color_scheme/issues/115).
Has a **fix** [PR #117082](https://github.com/flutter/flutter/pull/117082) in master, is now in 3.10 stable.


### BottomAppBar incorrectly has a shadow in M3, should not have based on M3 spec
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7.</Error>

The `BottomAppBar` does not match M3 spec, it incorrectly has a shadow. See issue [#118150](https://github.com/flutter/flutter/issues/118150).
Has a **fix** [PR #121406](https://github.com/flutter/flutter/pull/121406) in master, is in 3.10.


### BottomSheet incorrectly has a shadow in M3, should not have based on M3 spec
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7.</Error>

The `BottomSheet` incorrectly has a shadow in M3 mode. See issue [#118244](https://github.com/flutter/flutter/issues/118244). Has a **fix** [PR #121406](https://github.com/flutter/flutter/pull/121406) in master, is in 3.10.


### SliverAppBar medium and large can not set foreground color
<Success>Fixed in Flutter 3.10.</Success>
<Error>Applies to Flutter 3.7 and earlier.</Error>

When defining `foregroundColor` for the new Material-3 style `SliverAppBar.large` or `SliverAppBar.medium` either via an `AppBarTheme` or their properties, the defined color is not getting applied to the `AppBar`as it should. See issue [#110951](https://github.com/flutter/flutter/issues/110951). Has a **fix** [PR #118322](https://github.com/flutter/flutter/pull/118322) in master, is in 3.10.


### NavigationBar ink ripple moves with height changes (Regression)
<Success>**Fixed** via [PR #117473](https://github.com/flutter/flutter/pull/117473) and cherry-picked via [CP #119553](https://github.com/flutter/flutter/pull/119553) to 3.7.2.</Success>
<Error>Applies only to stable Flutter 3.7.0 and 3.7.1.</Error>

If you change the `NavigationBar` from M3 default value of 80 dp, the ink level moves up or down with same amount as the deviation from the default 80 dp height. See issue report and illustration here [FCS #114](https://github.com/rydmike/flex_color_scheme/issues/114) as well as in Flutter SDK issue [#117420](https://github.com/flutter/flutter/issues/117420). The issue was caused by a regression in Flutter 3.7. It did not exist in Flutter 3.3 and earlier. It is also fixed in the current master channel via [PR 117473](https://github.com/flutter/flutter/pull/117473).


### NavigationBar ink ripple does not follow M3 spec
<Success>Fixed in Flutter 3.7.</Success>
<Error>Applies to Flutter 3.3 and earlier.</Error>

The M3 `NavigationBar` has a Material-2 styled ink effects also when opting in on Material-3. This is not according to Material design specification. See issues [#113870](https://github.com/flutter/flutter/issues/113870) and [#114618](https://github.com/flutter/flutter/issues/114618) for more information. This issue was fixed via [PR #115499](https://github.com/flutter/flutter/pull/115499).


### Typography switching causes a crash
<Success>Fixed in Flutter 3.7.</Success>
<Error>Applies to Flutter 3.3 and earlier.</Error>

The **Themes Playground** version 7, removes the previous extensive `Typography` change crash workaround. The `Typography` changes now also correctly lerp animate when the setting is toggled in the Themes Playground app.

Switching Typography dynamically in Flutter SDK ThemeData was broken for many years, see
issue [#103864](https://github.com/flutter/flutter/issues/103864) for more information. If it was done and the error ignored, an app doing so eventually become unstable. A **fix** [PR #110870](https://github.com/flutter/flutter/pull/110870) solved the issue and is included in Flutter 3.7 stable and later, but it is not available in the Flutter 3.3 stable channel.

Versions 5.0.0 to 6.1.2 of **Themes Playground** app contained a workaround to avoid issue [#103864](https://github.com/flutter/flutter/issues/103864). The workaround was done by always using the 2021 Typography, and simulating 2018 Typography. This was implemented by using a custom `TextTheme` that made it look like the 2018 Typography was used when using the Material-2 theme mode. The Playground App actually always stayed in 2021 Typography, but it looked like it switched. Which it accomplished by applying a custom `TextTheme` to 2021 Typography, that made it look like the 2018 Typography was being used. Other FlexColorScheme example applications, avoided the issue by only using the M3 2021 Typography, and not even mimicking a switch between M2 and M3 Typography.

The above workaround was needed because the Playground app has toggles that switch Typography frequently, without the workaround it eventually crashed. With this workaround, it never switched Typography. It just looked like it did, but the app stayed in 2021 Typography all the time. The by Themes Playground generated ThemeData config use the actual real effective Typography. This was also fine, since an app using the theme would likely never switch used Typography. However, if it does, it will face the same issue as the Playground app did.


### AppBar icon theme is not respected (Regression)
<Success>Fixed in Flutter 3.7.</Success>
<Error>Applies to Flutter 3.3.0 to 3.3.10.</Error>

Regression: `AppBarTheme` properties `iconTheme` and `actionsIconTheme` are ignored when `useMaterial3` is true. This was not seen in Flutter stable 3.0.5, but is now in 3.3.0. See issue[#107305](https://github.com/flutter/flutter/issues/107305), that was fixed via [PR #108332](https://github.com/flutter/flutter/pull/108332) in master. The fix did not land in Flutter 3.3.0, as mentioned in issue [#110878](https://github.com/flutter/flutter/issues/110878) it regressed into stable 3.3 release, even though it was fixed in master 28 days before stable 3.3 release.


### Elevation issues when opting in on M3
<Success>Fixed in Flutter 3.7.</Success>
<Error>Applies to Flutter 3.3 and earlier.</Error>

The `TimePickerDialog` does however not yet have M3 support in Flutter 3.7. However, FCS 7.0 styles it correctly anyway, but the elevation can not be changed from its default value. The elevation property does not exist in Flutter 3.7 theme for `TimePickerDialog`, it does exist in master. The `TimePickerDialog` M3 implementation in master still has some issues, see [118657](https://github.com/flutter/flutter/issues/118657), which is probably why it did not land in Flutter 3.7.

In Flutter 3.0 and 3.3, when opting in on `useMaterial3:true`, the `Material` widget and other SDK widgets built on it, gets no elevation when only the `elevation` property is defined. It is required to also define `shadowColor` and/or `surfaceTintColor` to get any elevation effect. When using the `Material` widget itself this is easy to address. However, widgets like `Drawer`, `PopupMenuButton`, `BottomNavigationBar`, `NavigationRail`, `Dialog`, `AlertDialog`, `TimePickerDialog`, `DatePickerDialog`, `MaterialBanner` and `BottomSheet` do not expose these `Material` properties and cannot be elevated.

The issue is reported and tracked here [#107190](https://github.com/flutter/flutter/issues/107190) and also mentioned in the `FlexColorScheme` repo here
[#54](https://github.com/rydmike/flex_color_scheme/issues/54). There are no good workarounds for using elevation on these widgets when `useMaterial3` is true. The options are to not use M3. However, if such elevations are important to your app design, one working fix is to wrap those widgets in a theme where `useMaterial3` is false, the rest of your app can still use it. This is a rather tedious workaround. Due to this current SDK `Material` elevation issue when `useMaterial3` is true, it is recommended to avoid opting in on Material-3 if correctly elevated Material on Dialogs, Drawers, BottomSheet and PopupMenuButton are critical for the app's design. Dialogs and Drawers use a scrim, so the issue was not so bas when using them, but it was very problematic on e.g. BottomSheet and PopupMenuButton. FlexColorScheme 6.1 release included a theme fix to apply elevation color to the themed backgrounds of these two widgets as a workaround this issue. This workaround has been removed in FlexColorScheme 7 and later as no longer needed in Flutter 3.7.

This [PR #110624](https://github.com/flutter/flutter/pull/110624) addresses the default elevation issue for `Material`, but it is not yet available in Flutter 3.3. It also does not fully solve the poor dark mode `PopupMenuButton` style, that needs widget level support for it to work properly.


### Chip (vanilla) has no M3 style
<Success>Fixed in Flutter 3.7.</Success>
<Error>Applies to Flutter 3.3 and earlier.</Error>

The `Chip` theme in Flutter 3.3 does not M3 style the plain vanilla `Chip`. A proposal to fix this can be tracked via issue [#109470](https://github.com/flutter/flutter/issues/109470). This issue has been fixed in the master channel via [PR #111597](https://github.com/flutter/flutter/pull/111597), but it never landed in the 3.3 stable releases.


### System Navigation Bar issue on A11 (Android)
<Success>Fixed in Flutter 3.7.</Success>
<Info>FlexColorScheme 7.0.0 has removed past used workaround it used to correct the issue on Android 11. It also again enabled the divider option in its `FlexColorScheme.themedSystemNavigationBar`.</Info>

Due to Flutter SDK [issue #100027](https://github.com/flutter/flutter/issues/100027) *"Using systemNavigationBarDividerColor changes statusBarIconBrightness and systemNavigationBarIconBrightness on Android 11"*, two temporary changes had been made to `FlexColorScheme.themedSystemNavigationBar` implementation:
* The divider feature was disabled (until the issue was solved).
* A temporary workaround implemented for Android 11. It managed to keep system icons from getting the wrong brightness on Android 11 by calling systemChrome twice.

The temporary changes were reverted by FlexColorScheme version 7. Other related issues on the Android System Navigation Bar topic worth tracking is the umbrella issue "System Navigation Bar APIs are Confusing" [#112301](https://github.com/flutter/flutter/issues/112301).


### TextField in Material-3 has the wrong hovered and focused styles
<Success>Only occurred temporarily in master 3.7. Never landed in any stable Flutter version</Success>

When opting in on Material-3, `TextField` gets wrong `focused` and `hovered` styles in some states. See issue [#113329](https://github.com/flutter/flutter/issues/113329) for details. The [PR #113776](https://github.com/flutter/flutter/pull/113776) in the master channel fixes the issue. This issue only occurred in the master channel, because M3 mode support for `TextField` did not exist in the Flutter stable 3.3 channel. This issue never regressed to the stable channel.
